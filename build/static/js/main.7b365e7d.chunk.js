(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/user.d44e7391.svg"},30:function(e,t,a){e.exports=a.p+"static/media/pass.bb67460e.svg"},31:function(e,t,a){e.exports=a.p+"static/media/logo.07f6a524.png"},36:function(e,t,a){e.exports=a(93)},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},89:function(e,t){},90:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),i=a.n(r),l=(a(42),a(14)),o=a(6),c=a(7),u=a(9),m=a(8),d=a(10),p=a(95),h=a(97),f=a(96),g=a(29),E=a.n(g),v=a(30),N=a.n(v),b=(a(44),function(e){var t={username:"",password:"",isAuthenticated:!1,authToken:null},a=function(e){e.currentTarget.parentElement.classList.add("active")},n=function(e){e.currentTarget.parentElement.classList.add("active"),t[e.target.name]=e.currentTarget.value},r=function(e){""===e.target.value&&e.currentTarget.parentElement.classList.remove("active")};return s.a.createElement("section",{id:"LoginSection"},s.a.createElement("div",{className:"LoginContainer"},s.a.createElement("form",{className:"LoginForm",onSubmit:function(a){a.preventDefault(),t.isAuthenticated=!0,t.authToken="TOKEN",e.login(t),e.history.push("/users-list/")}},s.a.createElement("div",{className:"LoginTitle text-center"},s.a.createElement("h3",{className:"LoginTitle"},"Login to Your Account")),s.a.createElement("div",{className:"LoginFormBody"},s.a.createElement("div",{className:"form-group"},s.a.createElement("img",{src:E.a,alt:""}),s.a.createElement("label",{htmlFor:"username"},"username"),s.a.createElement("input",{type:"text",name:"username",onFocus:a,onChange:n,onBlur:r,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("img",{src:N.a,alt:""}),s.a.createElement("label",{htmlFor:"password"},"password"),s.a.createElement("input",{type:"password",name:"password",onFocus:a,onChange:n,onBlur:r,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",null,"Login")))),s.a.createElement("div",{className:"LoginSideImage"})))}),U=(a(46),a(31)),w=a.n(U),L=function(e){return s.a.createElement("section",{className:"header"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("img",{src:w.a,alt:""})),s.a.createElement("div",{className:"col-md-8 text-right"},s.a.createElement("button",{className:"usersListBtn",onClick:function(){e.history.push("/users-list/")}},"Users List"),s.a.createElement("button",{className:"newUserBtn",onClick:function(){return e.cumodal()}},"Create New User"),s.a.createElement("button",{className:"logout",onClick:function(){e.logout(),e.history.push("/")}},"LogOut")))))},O=(a(48),function(e){return s.a.createElement("div",{className:"single-user"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("img",{src:e.data.avatar,alt:""})),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("p",{className:"user-info"},e.data.first_name," ",e.data.last_name),s.a.createElement("div",{className:"edit-buttons"},s.a.createElement("button",{className:"edit",onClick:function(){e.edit(e.data.id)}},"Edit User"),s.a.createElement("button",{className:"delete",onClick:function(){e.delete(e.data.id)}},"Delete User")))))}),y=a(12),k=a(32),C=a.n(k),j=(a(60),a(21)),S=a.n(j),T=(a(62),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={id:null,first_name:"",last_name:"",date:new Date,email:"",phone:""},a.nameHandler=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.emailHandler=function(e){a.setState({email:e.target.value})},a.phoneHandler=function(e){var t=e.target.value.split("").filter(function(e){return!isNaN(e)&&" "!==e});t=t.join(""),a.setState({phone:t})},a.dobHandler=function(e){a.setState({date:e.toLocaleDateString()})},a.CreateUser=function(e){e.preventDefault(),a.props.newUser(a.state),a.props.cumodal(),console.log(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.state.totalAPIUsers;this.props.state.usersList.map(function(t){t.id>e&&(e=t.id)}),e+=1,this.setState({id:e}),S()({mask:"(999) 999-9999"}).mask(document.querySelector("input[name=phone]"))}},{key:"render",value:function(){this.state.date;return s.a.createElement("section",{className:"CreateNewUser"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"newuserTitle"},s.a.createElement("h3",null,"Create New User"),s.a.createElement("div",{className:"close-modal",onClick:this.props.cumodal},"+")),s.a.createElement("form",{className:"row",onSubmit:this.CreateUser},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("input",{type:"text",name:"first_name",placeholder:"First Name",onChange:this.nameHandler,required:!0})),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("input",{type:"text",name:"last_name",placeholder:"Last Name",onChange:this.nameHandler,required:!0})),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("input",{type:"email",name:"email",placeholder:"Email address",onChange:this.emailHandler,required:!0})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("input",{type:"text",name:"phone",placeholder:"Phone Number",onChange:this.phoneHandler,required:!0})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(C.a,{onDayChange:this.dobHandler,required:!0})),s.a.createElement("div",{className:"col-md-6 m-auto text-center"},s.a.createElement("button",null,"Create")))))}}]),t}(n.Component)),x=a(35),M=(a(64),function(e){var t=function(t){e.changePage(t.target.value)},a=e.state,n=a.pageLimit*a.totalPages;n<a.totalUsers&&(n=a.totalUsers);var r=Math.ceil(n/a.pageLimit);return s.a.createElement("div",{className:"paginationContainer"},s.a.createElement("ul",{className:"pagination"},Object(x.a)(Array(r)).map(function(e,n){return parseInt(a.page)===n+1?s.a.createElement("li",{className:"page-item active",key:n},s.a.createElement("button",{className:"page-link",onClick:t,value:n+1},n+1)):s.a.createElement("li",{className:"page-item",key:n},s.a.createElement("button",{className:"page-link",onClick:t,value:n+1},n+1))})))}),A=a(33),_=a.n(A),D=(a(85),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={id:null,first_name:"",last_name:"",avatar:""},a.nameHandler=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.photoHandler=function(e){var t="https://api.cloudinary.com/v1_1/".concat("milosptr","/upload"),n=new FormData;n.append("upload_preset","milosptrpreset"),n.append("tags","browser_upload"),n.append("file",document.querySelector("input[type=file]").files[0]),_.a.post(t,n).then(function(e){a.setState({avatar:e.data.secure_url})})},a.EditUser=function(e){e.preventDefault(),a.props.editUser(a.props.state.id,a.state),a.props.eumodal()},a.eumodal=function(){a.props.eumodal()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.state;this.setState(Object(l.a)({},e))}},{key:"render",value:function(){return s.a.createElement("section",{className:"CreateNewUser"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"newuserTitle"},s.a.createElement("h3",null,"Edit User"),s.a.createElement("div",{className:"close-modal",onClick:this.eumodal},"+")),s.a.createElement("form",{className:"row",onSubmit:this.EditUser},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("input",{type:"text",name:"first_name",placeholder:"First Name",onChange:this.nameHandler})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("input",{type:"text",name:"last_name",placeholder:"Last Name",onChange:this.nameHandler})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("input",{type:"file",name:"photo",accept:"image/*",onChange:this.photoHandler})),s.a.createElement("div",{className:"col-md-6 m-auto text-center"},s.a.createElement("button",null,"Submit Edit")))))}}]),t}(n.Component)),H=(a(87),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).mergeUsers=function(e,t){return e.concat(t.filter(function(t){return!e.find(function(e){return e.id===t.id})}))},a.fetchData=function(e){void 0!==(e=parseInt(e))&&null!==e||(e=1),a.setState({page:e,isLoading:!0}),fetch("https://reqres.in/api/users?page="+e).then(function(e){return e.json()}).then(function(e){var t=e.data.filter(function(e){return this.indexOf(e.id)<0},a.state.deletedUsers),n=a.state.usersList,s=a.mergeUsers(n,t);a.setState({totalUsers:s.length,usersList:s,totalPages:e.total_pages,totalAPIUsers:e.total,isLoading:!1})})},a.componentWillMount=function(){a.state.isAuthenticated||a.props.history.push("/")},a.componentDidMount=function(){a.fetchData(a.state.page)},a.sortFilter=function(e){var t=[-1,1],n=e.target.value;"recent"===e.target.value&&(t=[1,-1],n="id");var s=a.state.usersList.sort(function(e,a){return e[n]<a[n]?t[0]:e[n]>a[n]?t[1]:0});a.setState({usersList:s,page:1})},a.createUserModal=function(){if("TOKEN"===a.state.authToken){var e=a.state.createUserModal;a.setState({createUserModal:!e})}else alert("You don't have premission to create new user!")},a.createNewUser=function(e){var t=a.state.usersList.slice();t.push(e);var n=a.state.totalUsers+1;a.setState({totalUsers:n,usersList:t})},a.editUserModal=function(e){if("TOKEN"===a.state.authToken){var t=a.state.isEditing,n=a.state.usersList.findIndex(function(t){return t.id===e}),s=a.state.usersList[n];a.setState({isEditing:!t,isEditingUser:s})}else alert("You don't have premission to create new user!")},a.editUser=function(e,t){var n=a.state.usersList.findIndex(function(t){return t.id===e});a.state.usersList[n]=t,a.forceUpdate(),console.log(t)},a.deleteUser=function(e){if("TOKEN"===a.state.authToken){var t=a.state.totalUsers-1,n=a.state.usersList,s=n.findIndex(function(t){return t.id===e});n.splice(s,1);var r=a.state.deletedUsers;r.push(e),a.setState({totalUsers:t,usersList:n,deletedUsers:r})}else alert("You don't have premission to edit/delete user!")},a.pagination=function(){var e=a.state,t=e.page*e.pageLimit-e.pageLimit,n=e.page*e.pageLimit-1,r=e.usersList,i=Array(n-t+1).fill().map(function(e,a){return t+a});return r.filter(function(e,t){return this.indexOf(t)>=0},i).map(function(e,t){return s.a.createElement(O,{data:e,key:t,edit:a.editUserModal,delete:a.deleteUser})})},a.state={page:1,totalPages:1,pageLimit:3,totalUsers:0,APIdata:[],usersList:[],deletedUsers:[],isLoading:!0,isAuthenticated:e.state.isAuthenticated,authToken:e.state.authToken,createUserModal:!1,isEditing:!1,isEditingUser:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(L,Object.assign({logout:this.props.logout,cumodal:this.createUserModal},this.props)),s.a.createElement("section",{className:"container"},s.a.createElement("div",{className:"row usersList"},s.a.createElement("div",{className:"col-md-12 userFilter"},"Sort by:",s.a.createElement("select",{onChange:this.sortFilter,id:"sort"},s.a.createElement("option",{value:"id"},"id"),s.a.createElement("option",{value:"recent"},"recent"),s.a.createElement("option",{value:"first_name"},"name"))),this.state.isLoading?"Loading...":this.pagination()),s.a.createElement(M,{state:this.state,changePage:this.fetchData})),this.state.createUserModal?s.a.createElement("section",{className:"createNewUserModal"},s.a.createElement(T,{cumodal:this.createUserModal,newUser:this.createNewUser,state:this.state})):null,this.state.isEditing?s.a.createElement("section",{className:"createNewUserModal"},s.a.createElement(D,{eumodal:this.editUserModal,editUser:this.editUser,state:this.state.isEditingUser})):null)}}]),t}(n.Component)),F=(a(89),a(90),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",isAuthenticated:!1,authToken:null},a.logIn=function(e){a.setState(Object(l.a)({},e))},a.logOut=function(){a.setState(Object(l.a)({},{username:"",password:"",isAuthenticated:!1,authToken:null}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(p.a,null,s.a.createElement(h.a,null,s.a.createElement(f.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(b,Object.assign({},t,{login:e.logIn}))}}),s.a.createElement(f.a,{path:"/users-list/",render:function(t){return s.a.createElement(H,Object.assign({},t,{logout:e.logOut,state:e.state}))}}),s.a.createElement(f.a,{render:function(t){return s.a.createElement(H,Object.assign({},t,{logout:e.logOut,state:e.state}))}})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.7b365e7d.chunk.js.map